<!DOCTYPE html>
<html>
<head>
    <title>Audit Report - {{ report.website_url }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-5">
    <h1>Audit Report: {{ report.website_url }}</h1>
    <p><strong>Date:</strong> {{ report.date_audited.strftime("%B %d, %Y at %I:%M %p") }}</p>

    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card text-center bg-success text-white">
                <div class="card-body">
                    <h3>{{ data.performance }}%</h3>
                    <p>Performance</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center bg-info text-white">
                <div class="card-body">
                    <h3>{{ data.security }}%</h3>
                    <p>Security</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center bg-warning text-white">
                <div class="card-body">
                    <h3>{{ data.accessibility }}%</h3>
                    <p>Accessibility</p>
                </div>
            </div>
        </div>
    </div>

    <a href="{{ url_for('report_pdf', report_id=report.id) }}" class="btn btn-danger btn-lg mb-4">Download PDF Report</a>
    <a href="{{ url_for('dashboard') }}" class="btn btn-secondary mb-4">Back to Dashboard</a>

    <h2>Detailed Results</h2>
    {% for category, info in data.categories.items() %}
    <div class="card mb-3">
        <div class="card-header bg-primary text-white">
            <h5>{{ category }}</h5>
        </div>
        <div class="card-body">
            <p><em>{{ info.desc }}</em></p>
            <ul>
                {% for item in info.items %}
                <li><strong>{{ item }}:</strong> 
                    <span class="badge 
                        {% if data.metrics[item] == 'Excellent' %}bg-success
                        {% elif data.metrics[item] == 'Good' %}bg-info
                        {% elif data.metrics[item] == 'Fair' %}bg-warning
                        {% else %}bg-danger{% endif %}">
                        {{ data.metrics[item] }}
                    </span>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endfor %}
</div>
</body>
</html>
